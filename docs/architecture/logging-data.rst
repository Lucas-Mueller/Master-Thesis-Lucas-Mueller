Logging and Data Output
=======================

The Frohlich Experiment emits layered logging artefacts so you can follow runs in real time and analyse them afterwards. This page summarises the components that ship with the repository today and how they fit together.

Overview
--------

The system produces two complementary outputs on every run:

1. **Console / Terminal Output** – generated by ``utils.logging.process_flow_logger``. It reports phase transitions, warnings, and (when enabled) OpenAI trace URLs.
2. **Agent-Centric Log** – ``utils.logging.agent_centric_logger.AgentCentricLogger`` writes ``experiment_results_<timestamp>.json`` capturing full per-agent journeys, voting history, and general experiment info.

When tracing is active, you will also see an Observability link in the console output that points to the run on the OpenAI platform.

Agent-Centric Log Structure
---------------------------

The agent log is optimised for auditability. Key sections include:

- ``general_information`` – seed source, configuration file, language, and runtime metadata.
- ``agents`` – per-participant Phase 1 and Phase 2 narratives, memory captures, and financial outcomes.
- ``voting_history`` – aggregate records of formal votes if Phase 2 triggered them.

The schema is defined in ``models/logging_types.py``. Refer to that file for the definitive field list if you are building downstream tooling.

Structured Summary
------------------

The summary JSON offers a compact snapshot designed for dashboards or quick comparisons between runs. Fields include:

- ``experiment_id`` and ``timestamp``
- ``total_runtime_seconds``
- ``seed`` information (value and whether it was explicit or generated)
- ``phase1`` aggregate statistics (participant count, average earnings)
- ``phase2`` outcome (consensus reached, agreed principle, final round)
- ``participants`` earnings table combining Phase 1 and Phase 2 results

Because the summary payload is small, it is safe to archive alongside the agent log or ingest into analytics notebooks.

Console Logging
---------------

``create_process_logger`` controls terminal output. Verbosity and colour use are derived from the configuration's logging section. Typical messages include:

- Experiment start / finish markers
- Phase transitions and progress estimates
- Warnings about tracing being disabled or configuration fallbacks
- Notifications about where results were saved

Integration Tips
----------------

- **Archival**: Store the JSON log file with clear timestamped naming for easy organization.
- **Debugging**: Use the agent log to analyze the full transcript of decisions, memory updates, and agent interactions.
- **Tracing**: Set ``logging.verbosity_level`` to ``detailed`` or ``debug`` in your config to surface trace URLs and additional diagnostics.
